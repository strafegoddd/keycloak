# keycloak

keycloak lab. Троев Марат

Подключение SSH
![ssh](https://github.com/strafegoddd/keycloak/assets/118107526/05eae939-5072-41c7-858a-b09d07015619)

Далее настройка SSH
Allow Users

![ssh_allow_users](https://github.com/strafegoddd/keycloak/assets/118107526/1f1755d1-489e-4f8e-8cfb-b07449c233f4)

Смена порта с 22 на 1234

![ssh_config_port](https://github.com/strafegoddd/keycloak/assets/118107526/5cb9ddae-9558-494e-b90d-d39c33b8d7bf)

Авторизация по руту

![ssh_config_root](https://github.com/strafegoddd/keycloak/assets/118107526/abc0d972-7360-42f0-b7af-7d1dc71ed4e9)

Установка PostgreSQL

![install_postgre](https://github.com/strafegoddd/keycloak/assets/118107526/16d78bbd-5f73-41cb-8ce7-6aa86411ae9e)

Настройки постгре
Статус

![port_psql_and_status](https://github.com/strafegoddd/keycloak/assets/118107526/c7ea5c77-7880-4d88-9f00-2387293c7db7)

Создание БД

![postgre_createdb](https://github.com/strafegoddd/keycloak/assets/118107526/b11eaf2f-c99c-4f9f-852c-b0372001ac06)

Создание пользователя

![create_user_postgre](https://github.com/strafegoddd/keycloak/assets/118107526/8321d8f6-9d33-48ef-8fe1-d9a896bb4466)

Создание скрипта для автоматического резервного копирования

![creating_script_postgre](https://github.com/strafegoddd/keycloak/assets/118107526/b2cc32f8-092e-4abd-a393-d4b9977756b2)

Сам скрипт

![script_for_backup_postgre](https://github.com/strafegoddd/keycloak/assets/118107526/775ceba5-4bb4-42c5-b5ec-ef9c7b7e0ae4)

Докер файл

![dockerfile_nano](https://github.com/strafegoddd/keycloak/assets/118107526/c3ee5585-abf2-4abe-8f3c-cd300ccd45ec)

Докер билд

![docker_build](https://github.com/strafegoddd/keycloak/assets/118107526/a3fdbc3c-f20f-46fd-8d2d-6f56114bc929)

Докер ран

![docker_run_keycloak](https://github.com/strafegoddd/keycloak/assets/118107526/1408c83f-9a94-4ba1-904c-715156949581)

Контейнер активен

![docker_ps](https://github.com/strafegoddd/keycloak/assets/118107526/a4d6c3ae-adaa-433e-aa9d-125391e1cf14)

Создание realm

![first_realm_created](https://github.com/strafegoddd/keycloak/assets/118107526/0ad23568-e0b1-44d5-b77d-9cee2c1efb29)

Создание клиента

![first_client](https://github.com/strafegoddd/keycloak/assets/118107526/de96c93b-aa2f-4838-b557-28c8c7e4063c)

Создание роли

![first_roel](https://github.com/strafegoddd/keycloak/assets/118107526/f8fae08d-042c-4be1-9245-e7985256c7d3)

Созздание пользователя

![first_user](https://github.com/strafegoddd/keycloak/assets/118107526/dbdac798-c733-4e44-abe1-702f198add5d)

Пароль пользователя

![first_user_pass](https://github.com/strafegoddd/keycloak/assets/118107526/ad75d305-8982-4a7d-b91a-925045ea6897)

Realm_role

![first_realm_role](https://github.com/strafegoddd/keycloak/assets/118107526/8b9670f8-d1c6-4831-94b7-6a930c765c46)

Запрос realm

![get_about_realm](https://github.com/strafegoddd/keycloak/assets/118107526/48e5508d-3d06-4794-86fc-0c793b9569aa)

Запрос токен

![access_token_po_password](https://github.com/strafegoddd/keycloak/assets/118107526/d0e0d638-50ac-4207-9ac8-db4d03bceeca)

Запрос токен по refresh token

![access_token_po_refresh_token](https://github.com/strafegoddd/keycloak/assets/118107526/fac70ac7-9f40-4cb1-91fa-e63a3059784a)

Запрос пользователи.

![get_users_keycloak](https://github.com/strafegoddd/keycloak/assets/118107526/530bd69a-6040-4bb1-84f9-5d8fa1164828)

end
